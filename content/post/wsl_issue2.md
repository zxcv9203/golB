---
title: "WSL2에서 잘못된 시간을 불러오는 현상 해결"
date: 2021-11-19T11:25:51+09:00
draft: false
summary: "WSL2의 시간 동기화 문제 해결 방법"
---

# 깃허브 블로그를 작성하던중..

깃허브 블로그를 작성하던 중 글을 쓰는데 현재 날짜 값이 아니고 계속해서 2019년의 값이 나왔습니다.

이상하다 느껴 github-style 테마에서 날짜 값을 어떻게 가져오는 확인해보는데 js에서 Date.now() 함수로 값을 받아오는 것을 확인할 수 있었습니다.

그래서 해당값을 console.log로 찍어봤더니 알 수 없는 엄청 큰 값이 뜨던 것입니다.

# 뭐가 문제지?

혹시 몰라서 가지고 있는 m1 mac으로 배포를 시도해보았더니 현재 날짜로 잘 변경되었습니다.

그래서 wsl에서 시간을 잘 못 가져오는 것 같아 구글에 검색을 해보니 wsl 시간 동기화 문제가 있는 것을 알게 되었습니다.

# wsl2 시간 동기화 문제의 발생이유

wsl2의 경우 wsl1 과 달리 컴퓨터를 절전모드에 두었다가 깨우면 그 시간만큼 시간이 느려지는 문제가 존재한다고 합니다.

저랑은 증상이 조금 다른 듯 했지만(wsl 설치가 애초에 2021년) 시간 동기화가 wsl2에서 잘 이루어지지 않는 것 같았고 시간 동기화를 한번 해보았습니다.

# chrony를 이용한 타임서버와의 동기화

chrony를 이용하여 wsl2랑 시간 서버를 동기화를 할 수 있습니다.

우분투 기준

1. 다음 명령어로 chrony를 설치합니다.

```shell
sudo apt -y install chrony
```

2. 다음 명령어로 chrony 서비스를 킵니다.

``` shell
sudo service chrony start
```

참고 :  https://wslhub.com/wsl-firststep/troubleshoot/timesync/